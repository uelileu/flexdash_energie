---
title: "Energie"
output: 
  flexdashboard::flex_dashboard:
    source_code: embed 
---

```{r setup, include=FALSE}
library(flexdashboard)
library(ggplot2)
library(tidyverse)
library(plotly)
library(leaflet)
library(sf)

```

Biogas
=======================================================================

### Karte der Biogasanlagen

```{r}
biog <- read_sf("data/BiogasPlants.gpkg", layer="BiogasPlant") %>% 
  st_transform(4326) %>% 
  mutate(CombinedHeatAndPower = as.numeric(CombinedHeatAndPower))
  
leaflet(biog) %>% 
  addTiles(attribution = "Quelle: Bundesamt fÃ¼r Energie") %>% 
  addCircleMarkers(color = "green", 
                   radius = ifelse(!is.na(biog$CombinedHeatAndPower),biog$CombinedHeatAndPower %>% log(base = 1.8),1),
                   fill = T,
                   fillOpacity = 0.1,
                   opacity = 0.7,
                   popup = paste0("Betreiber: ", biog$Name,"<br>",
                                  "In Betrieb seit: ", biog$BeginningOfOperation, "<br>",
                                  "Leistung kombiniert: ", round(biog$CombinedHeatAndPower,1)))
```

Windenergie
=======================================================================

### Karte des Windenergiepotentials und der bereits erstellten Windenergieanlagen

```{r}

```
